<div class="blog-layout">
    <!-- Main Blog Content -->
    <div class="blog-container">
        <section class="author-section">
            <h1>{{ blog.author }}</h1>
            <h2>Posted on {{ formatDate(blog.publishDate) }}</h2>
        </section>

        <section class="content-section">
            <h1 class="blog-title">{{ blog.title }}</h1>

            <section class="media-section">
                @if (blog.media.type){
                <ng-container image>
                    <img [src]="blog.media.src" alt="blog cover" class="media-image" />
                </ng-container>
                }@else {
                <ng-template>
                    <div class="media-video-container">
                        <iframe [src]="blog.media.src" frameborder="0" allowfullscreen>
                        </iframe>
                    </div>
                </ng-template>
                }
            </section>

            <div class="blog-body" [innerHTML]="blog.content"></div>
        </section>
    </div>

    <!-- Sidebar / Comments Section -->
    <aside class="blog-sidebar">
        <div class="likes">
            <mat-icon>favorite</mat-icon> {{ blog.likes }} likes
        </div>

        <div class="comments-section">
            <h3>Comments</h3>
            @for(comment of blog.commentsArr;track comment.id){
            <div class="comment">
                <strong>{{ comment.user }}</strong>
                <p>{{ comment.text }}</p>
            </div>
            }

            <div class="comment-form">
                <mat-form-field appearance="outline" class="comment-input">
                    <mat-label>Your comment</mat-label>
                    <input matInput (keydown)="setComment($event)" name="comment" required />
                </mat-form-field>
            </div>
        </div>
    </aside>
</div>